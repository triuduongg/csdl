{% extends "base.html" %}

{% block content %}
<h2>Xác nhận xóa người dùng</h2>

{% if is_admin_user %}
    <div class="alert alert-warning">
        <strong>Cảnh báo:</strong> Bạn đang cố gắng xóa một tài khoản Admin!
    </div>
{% endif %}

{% if is_self_delete %}
    <div class="alert alert-info">
        <strong>Thông tin:</strong> Bạn đang xóa tài khoản của chính mình.
    </div>
{% endif %}

<p>Bạn có chắc chắn muốn xóa người dùng <strong>"{{ user_profile.user.username }}"</strong>?</p>

{% if user_profile.position %}
    <p><strong>Chức vụ:</strong> {{ user_profile.position }}</p>
{% endif %}

{% if user_profile.departments.all %}
    <p><strong>Phòng ban:</strong>
    {% for dept in user_profile.departments.all %}
        {{ dept.name }}{% if not forloop.last %}, {% endif %}
    {% endfor %}
    </p>
{% endif %}

{% if is_admin_user %}
    <div class="alert alert-danger">
        <strong>Lưu ý:</strong> Việc xóa tài khoản Admin có thể ảnh hưởng đến các phòng ban được tạo bởi người dùng này.
    </div>
{% endif %}

<form method="post">
    {% csrf_token %}
    <button type="submit" class="btn btn-danger">Xóa người dùng</button>
    <a href="{% url 'users:user_list' %}" class="btn btn-secondary">Hủy</a>
</form>
{% endblock %}
